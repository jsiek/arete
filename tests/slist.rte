var listof = function data {
  return new data, null;
};
var push = function data, !list {
  return new data, 1 of list;
};
var head = 0;
var tail = 1;
var is_last = function node {
  if is_null(node) {
    return false;
  } else {
    return is_null(node[tail]);
  }
};
// Split the list into two parts, with the second
// part just containing the last element.
var remove_last = function !n {
  if is_null(n) {
    return 0;
  } else {
    if is_last(n[tail]) {
      var !q = n[tail];
      n[tail] = null;
      return q;
    } else {
      return remove_last(n[tail]);
    }
  }
};
var delete_list = function !n {
  if not is_null(n) {
    delete_list(n[tail]);
    delete n;
  }
};
var !one_two = push(1, listof(2));
var !two_null = remove_last(1 of one_two);
var one = one_two[head];
var two = two_null[head];
delete_list(1 of one_two);
delete_list(1 of two_null);
return one + one - two;
